// Generated by https://github.com/foxglove/schemas

syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "header.proto";
import "Pose.proto";

package foxglove;

message CameraIntrinsic {
  double fx = 1; // Focal length in x
  double fy = 2; // Focal length in y
  double cx = 3; // Principal point x
  double cy = 4; // Principal point y
}

message CameraDistortion {
  double k1 = 1; // Radial distortion coefficient
  double k2 = 2; // Radial distortion coefficient
  double p1 = 3; // Tangential distortion coefficient
  double p2 = 4; // Tangential distortion coefficient
  double k3 = 5; // Radial distortion coefficient
}

message PineHoleCameraInfo {
  // related topic name
  string frame_id = 1;
  // Image width
  fixed32 width = 2;
  // Image height
  fixed32 height = 3;

  // Camera intrinsic parameters
  CameraIntrinsic camera_intrinsic = 4;
  // Camera distortion parameters
  CameraDistortion camera_distortion = 5;
  // camera extrinsic parameters
  foxglove.Pose camera2ego_extrinsic = 6;
}

message ExtrinsicInfo {
  // related topic name
  string frame_id = 1;
  // transform from sensor to ego
  foxglove.Pose pose_to_ego = 2;
}

// A compressed image
message SensorCalibrationParam {
  // Timestamp of image
  google.protobuf.Timestamp timestamp = 1;

  // camera calibration parameters, by order or camera id
  repeated PineHoleCameraInfo camera_infos = 2;

  // transform from imu to ego
  ExtrinsicInfo imu_info = 3;

  // transform from lidar to ego
  ExtrinsicInfo lidar_info = 4;


  arnold.common.proto.Header header = 8;
}
